<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="cifra.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hino 01 Chuvas de Graça</title>
</head>

<script src="cifra.js"></script>
<script src="videosytb.js" async></script>
<script src="acordes.js"></script>
<script src="musica.js"></script>
<script src="rolagem.js"></script>

<body>
  <h1 class="titulo"> Shekinah Kadosh Hinos da Harpa Cristã </h1>
  
  <ul class="ordem-principal">
    <li><a href="index.html">hino</a></li>
    <li><a href="../genesis/index.html">biblia sagrada</a></li>
    <li><a href="../videos-youtube/videosyoutube.html">videos</a></li>
    <li><a href="meusite.html">shekinah kadoshi</a></li>
  </ul>

  <div class="snippet-ytb-lazy" id="videoYtbLazy" data-id="dNlOcSchJ9Y&t=4s">
    <div>
      <div class="player">
        <img src="botao-play.png" style="width: 150px;" alt="">
      </div>
    </div>
  </div>

  <style>
    body {
      display: flex;
      margin: 0;
      font-family: Arial, sans-serif;
      height: 100vh;
    }
    #controls {
      margin-top: 70px;
      display: flex;
      flex-direction: column;
      padding: 10px;
      background-color: #f0f0f0;
      border-right: 1px solid #ccc;
      position: fixed;
      top: 0;
      left: 0;
    }

    .control-button {
      margin-bottom: 5px;
      padding: 10px;
      cursor: pointer;
      border: 1px solid #ccc;
      background-color: #ccc;
      color: #333;
      text-align: center;
    }

    #scroll-container {
      margin-left: 110px; /* Ajuste para compensar a largura dos controles fixos */
      padding: 10px;
      height: auto;
      overflow-y: hidden;
      white-space: pre-wrap; /* Para manter o texto formatado corretamente */
      font-size: 16px; /* Tamanho inicial da fonte */
    }

    pre {
      margin: 0;
    }
    #content {
      margin-top: 100px;
    }

    @media (max-width: 680px) {
  body {
    flex-direction: column;
    height: auto;
  }

  .titulo {
    font-size: 20px;
    text-align: center;
  }

  .ordem-principal {
    display: flex;
    flex-direction: row;
    justify-content: space-around;
    width: 100%;
    padding: 2px 0;
  }

  .ordem-principal li {
    width: auto;
    text-align: center;
  }

  .ordem-principal ul {
    display: none; /* Esconde submenus */
  }

  #controls {
    flex-direction: row;
    flex-wrap: wrap;
    width: 100%;
    height: auto;
    margin-top: 40px; /* Aumenta ainda mais o espaço entre o menu e os botões */
    border-right: none;
    border-bottom: none;
    position: static;
    justify-content: space-around;
    padding: 10px 0;
  }

  .control-button {
    flex: 1 1 30%; /* Ajusta os botões para ocupar aproximadamente 30% da largura cada um */
    padding: 10px 5px;
    font-size: 14px;
    text-align: center;
    margin: 5px; /* Adiciona margem entre os botões */
  }

  #scroll-container {
    margin-left: 0;
    height: calc(100vh - 220px); /* Ajuste a altura conforme necessário */
    padding-top: 10px;
  }

  .snippet-ytb-lazy {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-top: 10px;
  }

  .snippet-ytb-lazy img {
    width: 100px;
  }
}

  </style>

  <div id="controls">
    <div id="scroll-up" class="control-button">-</div>
    <div id="scroll-down" class="control-button">+</div>
    <div id="scroll-toggle" class="control-button">Play</div>
    <div id="scroll-reset" class="control-button">Reset</div>
    <div id="transpose-up" class="control-button">Transpose +</div>
    <div id="transpose-down" class="control-button">Transpose -</div>
    <div id="font-size-up" class="control-button">A+</div>
    <div id="font-size-down" class="control-button">A-</div>
  </div>

  <div id="scroll-container">
    <pre id="content">
001 - Chuvas de Graça
Harpa Cristã
Cifra: Principal (violão e guitarra)
    [Intro] <b>Bb</b>  <b>Eb</b>  <b>Bb</b>  <b>Gm</b>  <b>F</b>
<b>Bb</b>        <b>F</b>           <b>Bb</b>
Deus prometeu com certeza
<b>F</b>                 <b>Bb</b>  <b>Bb7</b>
Chuvas de graça mandar
<b>Eb</b>               <b>Bb/D</b> <b>Cm</b>
Ele nos dá fortale___za
<b>F4</b>       <b>F</b>           <b>Cm</b>   <b>F</b>
E ricas bênçãos sem par

<b>Bb</b>
Chuvas de graça
    <b>Gm</b>             <b>F</b>
Chuvas pedimos, Senhor
<b>Bb</b>          <b>Eb</b>        <b>Bb</b>
Manda-nos chuvas constantes
<b>F</b>               <b>Bb</b>
Chuvas do Consolador

<b>Bb</b>          <b>F</b>        <b>Bb</b>
Cristo nos tem concedido
<b>F</b>              <b>Bb</b>  <b>Bb7</b>
O santo Consolador
<b>Eb</b>                   <b>Bb/D</b>
De plena paz nos enchido
<b>Cm</b>                <b>F/A</b>
Para o reinado do amor

<b>Bb</b>
Chuvas de graça
    <b>Gm</b>             <b>F</b>
Chuvas pedimos, Senhor
<b>Bb</b>          <b>Eb</b>        <b>Bb</b>
Manda-nos chuvas constantes
<b>F</b>               <b>Bb</b>
Chuvas do Consolador

<b>Bb</b>          <b>F</b>         <b>Bb</b>
Dá-nos, Senhor, amplamente
<b>F</b>                   <b>Bb</b>  <b>Bb7</b>
Teu grande gozo e poder
<b>Eb</b>                 <b>Bb/D</b>  <b>Cm</b>
Fonte de amor permanen___te
<b>F4</b>          <b>F</b>        <b>Cm</b>   <b>F</b>
Põe dentro de nosso ser

<b>Bb</b>
Chuvas de graça
    <b>Gm</b>             <b>F</b>
Chuvas pedimos, Senhor
<b>Bb</b>          <b>Eb</b>        <b>Bb</b>
Manda-nos chuvas constantes
<b>F</b>               <b>Bb</b>
Chuvas do Consolador

<b>Bb</b>           <b>F</b>         <b>Bb</b>
Faze os teus servos piedosos
<b>F</b>                   <b>Bb</b>  <b>Bb7</b>
Dá-lhes virtude e valor
<b>Eb</b>                     <b>Bb</b>
Dando os teus dons preciosos
<b>Gm</b>             <b>F/A</b>
Do santo Preceptor

<b>Bb</b>
Chuvas de graça
    <b>Gm</b>             <b>F</b>
Chuvas pedimos, Senhor
<b>Bb</b>          <b>Eb</b>        <b>Bb</b>
Manda-nos chuvas constantes
<b>F</b>               <b>Bb</b>
Chuvas do Consolador
        Glória a Deus
        [Acordes]
        A = X 0 2 2 2 0
        A/C# = X 4 X 2 5 5
        A9 = X 0 2 2 0 0
        A4 = X 0 2 2 3 0
        A6 = 5 X 4 6 5 X
        B = X 2 4 4 4 2
        B/D# = X 6 X 4 7 7
        B4 = X 2 4 4 5 2
        Bm = X 2 4 4 3 2
        C#m = X 4 6 6 5 4
        D = X X 0 2 3 2
        D/F# = 2 X 0 2 3 2
        E = 0 2 2 1 0 0
        E/G# = 4 X 2 4 5 X
        Em = 0 2 2 0 0 0
        G = 3 2 0 0 0 3
        G/B = X 2 0 0 3 3
    </pre>
  </div>

  <script>
    const scrollContainer = document.getElementById('scroll-container');
    const scrollUpButton = document.getElementById('scroll-up');
    const scrollDownButton = document.getElementById('scroll-down');
    const scrollToggleButton = document.getElementById('scroll-toggle');
    const scrollResetButton = document.getElementById('scroll-reset');
    const transposeUpButton = document.getElementById('transpose-up');
    const transposeDownButton = document.getElementById('transpose-down');
    const fontSizeUpButton = document.getElementById('font-size-up');
    const fontSizeDownButton = document.getElementById('font-size-down');
    const content = document.getElementById('content');

    let scrollInterval;
    let scrollSpeed = 1;
    let scrollDirection = 1; // 1 para baixo, -1 para cima
    let scrollingPaused = true;
    let originalContent = content.innerHTML;
    let currentFontSize = 16; // Tamanho inicial da fonte

    // Função para iniciar ou pausar a rolagem
    const toggleScroll = () => {
        if (scrollingPaused) {
            scrollToggleButton.textContent = 'Pause';
            startScrolling();
        } else {
            scrollToggleButton.textContent = 'Play';
            clearInterval(scrollInterval);
        }
        scrollingPaused = !scrollingPaused;
    };

    // Função para iniciar a rolagem
    const startScrolling = () => {
        clearInterval(scrollInterval); // Limpa qualquer intervalo existente
        scrollInterval = setInterval(() => {
            scrollContainer.scrollTop += scrollDirection * scrollSpeed;
            if (scrollContainer.scrollTop >= content.scrollHeight - scrollContainer.clientHeight) {
                clearInterval(scrollInterval);
                scrollToggleButton.textContent = 'Play'; // Atualiza o botão para 'Play' ao finalizar a rolagem
            } else if (scrollContainer.scrollTop <= 0) {
                clearInterval(scrollInterval);
                scrollToggleButton.textContent = 'Play'; // Atualiza o botão para 'Play' ao finalizar a rolagem
            }
        }, 200); // Intervalo de 50ms para suavizar a rolagem
    };

    // Evento para iniciar ou pausar a rolagem ao clicar no botão de toggle
    scrollToggleButton.addEventListener('click', toggleScroll);

    // Evento para aumentar a velocidade de rolagem (botão +)
    scrollDownButton.addEventListener('click', () => {
        scrollSpeed++;
        if (!scrollingPaused) {
            clearInterval(scrollInterval); // Limpa o intervalo atual
            startScrolling();
        }
    });

    // Evento para diminuir a velocidade de rolagem (botão -)
    scrollUpButton.addEventListener('click', () => {
        if (scrollSpeed > 1) {
            scrollSpeed--;
            if (!scrollingPaused) {
                clearInterval(scrollInterval); // Limpa o intervalo atual
                startScrolling();
            }
        }
    });

    // Evento para resetar o conteúdo original sem parar a rolagem
    scrollResetButton.addEventListener('click', () => {
        content.innerHTML = originalContent;
        scrollContainer.scrollTop = 0; // Retorna ao topo do conteúdo
    });
    
    // Função para aumentar o tamanho da fonte
    const increaseFontSize = () => {
        currentFontSize += 2;
        content.style.fontSize = currentFontSize + 'px';
    };

    // Evento para aumentar o tamanho da fonte
    fontSizeUpButton.addEventListener('click', increaseFontSize);

    // Função para diminuir o tamanho da fonte
    const decreaseFontSize = () => {
        if (currentFontSize > 8) {
            currentFontSize -= 2;
            content.style.fontSize = currentFontSize + 'px';
        }
    };

    // Evento para diminuir o tamanho da fonte
    fontSizeDownButton.addEventListener('click', decreaseFontSize);

    // Função para transpor acordes
    const transposeChords = (semitones) => {
        const chords = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
        const regexChords = /(?:[ABCDEFG][#b]?(?:m|maj|min|sus|aug|dim)?(?:\d{0,2})?)/g;
        const originalText = content.innerHTML;
        const transposedText = originalText.replace(regexChords, (match) => {
            const baseChord = match.charAt(0).toUpperCase() + match.slice(1).replace(/[^#b]/g, ''); // Captura a base do acorde
            const index = (chords.indexOf(baseChord) + semitones) % chords.length;
            const newIndex = index >= 0 ? index : index + chords.length;
            const newChord = chords[newIndex];
            return newChord + match.slice(baseChord.length);
        });
        content.innerHTML = transposedText;
    };

    // Evento para transpor acordes para cima
    transposeUpButton.addEventListener('click', () => {
        transposeChords(1); // Transpõe um semitom para cima
    });

    // Evento para transpor acordes para baixo
    transposeDownButton.addEventListener('click', () => {
        transposeChords(-1); // Transpõe um semitom para baixo
    });
  </script>
</body>
</html>
